% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pgx-pathways.R
\name{pathbankview}
\alias{pathbankview}
\title{Download and color nodes in PathBank SVGs}
\usage{
pathbankview(pb, val, as.img = FALSE, large_font = TRUE)
}
\arguments{
\item{pb}{A character string specifying the PathBank pathway ID.}

\item{val}{A named numeric vector where names correspond to pathway element IDs,
and values represent the level of regulation (e.g., fold-change or intensity).
Positive values indicate up-regulation, while negative values indicate down-regulation.}
}
\value{
A character string representing the path to the modified SVG file,
        or `NULL` if the download fails.
}
\description{
Downloads a PathBank SVG file, modifies its XML structure to color pathway nodes
according to input values, and returns the path to the modified file.
}
\details{
The function downloads the SVG representation of a PathBank pathway, modifies its
XML content to color pathway nodes based on the provided `val` parameter:
- **Positive values**: Nodes are colored red, with the intensity increasing as the value grows.
- **Negative values**: Nodes are colored blue, with the intensity increasing as the absolute value grows.

Opacity is determined by the square root of the absolute value, scaled and capped at a maximum of 1.

Nodes with IDs matching the names in `val` are colored accordingly. Nodes without matching IDs
or `val` values are left unchanged.
}
\examples{
\dontrun{
pb <- "SMP000001"
val <- c("metabolite1" = 2.0, "metabolite2" = -1.5)
modified_svg <- pathbankview(pb, val)
if (!is.null(modified_svg)) {
  print(paste("Modified SVG saved at:", modified_svg))
}
}

}
